<div v-pre>

# 产品管理

管理系统中的订阅套餐产品,包括价格、流量配额、节点权限等设置。产品是用户购买的基本单位。

## 表格列说明

### 显示 (Show)
开关按钮,控制产品是否在前台显示。关闭后用户无法看到此产品。

### 售卖 (Sell)
开关按钮,控制产品是否允许购买。可以显示但不售卖(预告模式)。

### 名称 (Name)
产品套餐名称。

### 单价 (Unit Price)
显示价格和计费周期,格式如 `¥10/月`。

### 套餐价 (Replacement)
优惠价格或一次性购买价格。

### 流量 (Traffic)
每周期提供的流量配额,0 显示为"无限"。

### 设备限制 (Device Limit)
同时在线设备数限制,0 显示为"无限"。

### 库存 (Inventory)
剩余可售数量,0 显示为"无限"。

### 配额 (Quota)
总销售限额,0 显示为"无限"。

### 语言 (Language)
产品适用的语言限制,用于多语言站点。

### 已售 (Sold)
已售出数量统计。

## 表格操作

### 编辑
打开侧边抽屉表单修改产品信息。

### 删除
删除产品(需确认),已有订阅的产品可能无法删除。

### 复制
快速复制产品创建新套餐,自动设置为不显示、不售卖。

### 批量删除
选中多个产品后批量删除。

### 拖拽排序
拖动产品行调整显示顺序,影响前台展示顺序。

## 产品表单

表单包含三个标签页:

### 基础 (Basic) 标签页

**名称和语言**:
- **名称** (必填) - 产品套餐名称
- **语言** (可选) - 语言限制,如 `zh-CN` 或 `en`

**流量和限制**:
- **流量** - 每周期流量配额 (GB),0 = 无限
- **限速** - 带宽限制 (Mbps),0 = 不限速
- **设备限制** - 同时在线设备数,0 = 无限

**库存和配额**:
- **库存** - 剩余可售数量,0 = 无限
- **配额** - 总销售限额,0 = 无限

**产品描述** (JSON编辑器):
```json
{
  "description": "产品描述文字",
  "features": [
    {
      "type": "default",
      "icon": "uil:shield-check",
      "label": "功能特性"
    }
  ]
}
```

### 定价 (Pricing) 标签页

**基础定价**:
- **单价** (必填) - 基础价格
- **计费周期** (必填) - 选项:
  - NoLimit (不限时)
  - Year (年)
  - Month (月)
  - Day (日)
  - Hour (小时)
  - Minute (分钟)
- **套餐价** - 优惠价格
- **重置周期** - 流量重置方式:
  - 不重置
  - 每月1号重置
  - 按月重置
  - 按年重置

**批量折扣**:
动态数组,支持添加多个折扣梯度:
- **数量** - 购买周期数
- **折扣** - 折扣百分比 (1-100%)
- **价格** - 折后价格

系统自动计算:修改任意两个值,第三个值自动计算。

**扣费设置**:
- **扣费比例** - 节点流量倍率 (0-100%),留空为自动
- **续费重置** - 开关,续费时是否重置流量
- **购买时使用折扣** - 开关,是否允许使用优惠券

### 服务器 (Servers) 标签页

**节点标签选择**:
手风琴式列表,显示所有标签和标签下的节点:
- 勾选标签,自动包含该标签下所有节点
- 显示节点数量
- 展开查看标签内节点详情(名称、地址、协议)

**单独节点选择**:
选择没有标签的节点:
- 逐个勾选节点
- 显示节点名称、地址:端口、协议

## 使用场景
## 使用场景

### 场景一: 创建基础月付套餐

**基础标签页**:
- 名称: 标准月付
- 流量: 100 GB
- 限速: 0 (不限速)
- 设备限制: 3
- 库存: 0 (无限)

**定价标签页**:
- 单价: 30
- 计费周期: Month
- 重置周期: 按月重置
- 批量折扣:
  - 3 个月, 10% 折扣, 81 元
  - 6 个月, 15% 折扣, 153 元
  - 12 个月, 20% 折扣, 288 元

**服务器标签页**:
- 勾选"基础节点"标签

### 场景二: 创建流量包产品

**基础标签页**:
- 名称: 500GB流量包
- 流量: 500 GB
- 设备限制: 0 (无限)

**定价标签页**:
- 单价: 50
- 计费周期: NoLimit (不限时)
- 重置周期: 不重置
- 续费重置: 关闭

**服务器标签页**:
- 勾选所有高速节点标签

### 场景三: 创建高级年付套餐

**基础标签页**:
- 名称: 高级年付
- 流量: 0 (无限)
- 限速: 200 Mbps
- 设备限制: 10

**定价标签页**:
- 单价: 300
- 计费周期: Year
- 重置周期: 按月重置
- 续费重置: 开启

**服务器标签页**:
- 勾选所有节点标签

## 重要提示

1. **显示控制**: 新产品默认不显示、不售卖,需手动开启
2. **节点配置**: 必须配置节点,否则用户无法使用
3. **批量折扣**: 修改单价或周期后,折扣价格自动重新计算
4. **库存配额**: 0 表示无限,非零值会限制销售数量
5. **语言限制**: 留空表示所有语言可见
6. **拖拽排序**: 排序会立即保存并影响前台显示
7. **复制功能**: 复制的产品不会自动上架
8. **已售产品**: 修改已售产品配置会影响现有订阅

</div>