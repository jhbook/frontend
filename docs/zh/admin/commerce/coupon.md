<div v-pre>

# 优惠券管理

管理系统中的优惠券,包括创建、编辑、启用/禁用等功能。优惠券用于为用户提供购买折扣。

## 表格列说明

### 启用 (Enable)
开关按钮,控制优惠券是否可用。关闭后用户无法使用此优惠券。

### 名称 (Name)
优惠券的名称,用于管理标识。

### 代码 (Code)
优惠券兑换码,用户购买时输入此代码使用优惠券。

### 类型 (Type)
优惠券折扣类型:
- **百分比** - 按百分比折扣(如 10%)
- **金额** - 固定金额折扣(如 ¥50)

### 折扣 (Discount)
折扣值:
- 百分比类型显示百分比(如 10%)
- 金额类型显示货币金额(如 ¥50)

### 数量 (Count)
显示三行信息:
- **数量** - 优惠券总可用次数(0 = 无限)
- **剩余次数** - 还可使用次数
- **已使用次数** - 已被使用次数

### 有效期 (Validity Period)
优惠券的有效时间范围:
- 显示开始时间和结束时间
- 只有开始时间则显示单个时间
- 无限制显示 "--"

## 表格操作

### 编辑
打开侧边抽屉表单修改优惠券信息。

### 删除
删除优惠券(需确认),已使用的优惠券也可删除。

### 批量删除
选中多个优惠券后批量删除。

## 优惠券表单

### 名称 (必填)
优惠券的管理名称,不对用户显示。

### 自定义优惠券代码 (可选)
自定义兑换码,留空则系统自动生成。

### 优惠券类型 (必填)
单选按钮选择类型:
- **百分比折扣** - 按订单金额百分比折扣
- **金额折扣** - 固定金额减免

### 折扣值 (必填)
根据类型输入:
- **百分比**: 输入 1-100 的数字,带 % 后缀
- **金额**: 输入货币金额

### 指定订阅 (可选)
多选下拉框选择适用的产品套餐:
- 留空表示适用所有产品
- 选择特定产品则只对这些产品有效

### 开始时间 (可选)
优惠券生效时间:
- 使用日期选择器
- 不能选择过去的日期(昨天之前)
- 留空表示立即生效

### 结束时间 (可选)
优惠券失效时间:
- 使用日期选择器
- 留空表示永不过期

### 最大使用次数 (可选)
优惠券总共可使用次数:
- 0 或留空表示无限制
- 达到次数后自动失效

### 每用户最大使用次数 (可选)
单个用户可使用此优惠券的次数:
- 0 或留空表示无限制
- 防止单个用户重复使用

## 筛选功能

### 订阅筛选
选择产品套餐,查看该产品的专属优惠券。

### 关键词搜索
输入名称或代码搜索优惠券。

## 使用场景

### 场景一: 创建新用户注册优惠券

**表单配置**:
- 名称: 新用户优惠
- 代码: NEWUSER2024 (自定义)
- 类型: 百分比折扣
- 折扣: 20%
- 指定订阅: 留空(所有产品)
- 开始时间: 2024-01-01
- 结束时间: 2024-12-31
- 最大使用次数: 0 (无限)
- 每用户最大使用次数: 1

**效果**: 每个新用户可使用一次,全年有效,所有产品享受 8 折。

### 场景二: 创建限时促销优惠券

**表单配置**:
- 名称: 双11促销
- 代码: 留空(自动生成)
- 类型: 金额折扣
- 折扣: ¥50
- 指定订阅: 选择"年付套餐"
- 开始时间: 2024-11-11 00:00
- 结束时间: 2024-11-11 23:59
- 最大使用次数: 100
- 每用户最大使用次数: 1

**效果**: 双11当天前100位用户购买年付套餐减50元,每人限用一次。

### 场景三: 创建专属VIP优惠券

**表单配置**:
- 名称: VIP专享
- 代码: VIP888 (自定义)
- 类型: 百分比折扣
- 折扣: 30%
- 指定订阅: 选择"高级套餐"
- 开始时间: 留空
- 结束时间: 留空
- 最大使用次数: 0 (无限)
- 每用户最大使用次数: 0 (无限)

**效果**: VIP用户可无限次使用,购买高级套餐享受 7 折。

### 场景四: 创建一次性优惠码

**表单配置**:
- 名称: 感谢回馈
- 代码: THANKS100 (自定义)
- 类型: 金额折扣
- 折扣: ¥100
- 指定订阅: 留空(所有产品)
- 开始时间: 留空
- 结束时间: 留空
- 最大使用次数: 1
- 每用户最大使用次数: 1

**效果**: 单次有效的感谢券,先到先得。

## 重要提示

1. **启用控制**: 新优惠券默认禁用,需手动启用后用户才能使用
2. **代码唯一**: 自定义代码必须唯一,重复会创建失败
3. **自动生成**: 留空代码系统会自动生成随机代码
4. **产品限制**: 指定订阅后只对选定产品有效
5. **时间范围**: 开始时间不能是过去,结束时间可留空
6. **使用次数**: 0 或留空表示无限制
7. **用户限制**: 每用户限制可防止滥用
8. **删除影响**: 删除优惠券不影响已使用的订单

</div>
